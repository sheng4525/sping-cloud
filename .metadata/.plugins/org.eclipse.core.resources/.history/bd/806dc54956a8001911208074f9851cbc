package com.example.alibaba;

import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.context.config.annotation.RefreshScope;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 * 用curl或者postman等工具，访问接口: localhost:8600/test，一切正常的话，将返回Nacos中配置的spring-cloud-alibaba-learning。
 * 然后，再通过Nacos页面，修改这个内容，点击发布之后，再访问接口，可以看到返回结果变了
 * @author pengsheng
 *
 */
@SpringBootApplication
public class AlibabaNacosConfigClientApplication {

	public static void main(String[] args) {
		SpringApplication.run(AlibabaNacosConfigClientApplication.class, args);
	}
	
	@Slf4j
    @RestController
    @RefreshScope
    static class TestController {

        @Value("${didispace.title=}")
        private String title;

        @GetMapping("/test")
        public String hello() {
            return title;
        }

    }

}
